<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIT & BYTE - –ú–∞–≥–∞–∑–∏–Ω –∫–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏—Ö</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üõí</text></svg>">
    <style>
        /* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
        body {
            display: flex;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .sidebar {
            width: 250px;
            background: #2c3e50;
            color: white;
            padding: 20px 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            box-shadow: 2px 0 10px rgba(0,0,0,0.2);
        }
        
        .sidebar h2 {
            padding: 0 20px;
            margin-bottom: 20px;
        }
        
        .main-content {
            margin-left: 250px;
            flex: 1;
            padding: 0;
        }
        
        .category-filter {
            display: flex;
            flex-direction: column;
            gap: 5px;
            padding: 0 10px;
        }
        
        .category-filter button {
            text-align: left;
            padding: 12px 15px;
            border: none;
            background: transparent;
            color: white;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .category-filter button:hover {
            background: #34495e;
        }
        
        .category-filter button.active {
            background: #3498db;
            font-weight: bold;
        }
        
        /* –ù–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏—è —Å–∞–π—Ç–∞ */
        .site-title {
            color: #fff;
            font-size: 28px;
            font-weight: 800;
            margin: 0;
            position: relative;
            display: inline-block;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-family: 'Arial Black', 'Segoe UI', sans-serif;
            background: linear-gradient(90deg, #3498db, #9b59b6, #e74c3c);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
            animation: gradientShift 8s ease infinite;
            background-size: 300% 300%;
            padding: 5px 0;
        }

        .site-title::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, #3498db, #9b59b6, #e74c3c);
            border-radius: 3px;
            animation: gradientShift 8s ease infinite;
            background-size: 300% 300%;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ö–µ–¥–µ—Ä–∞ */
        .compact-header {
            background: #2c3e50;
            padding: 15px 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-top {
            display: flex;
            align-items: center;
            gap: 25px;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∫–æ—Ä–∑–∏–Ω—ã */
        .cart-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        #checkout-btn {
            background-color: #e67e22;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 4px;
            cursor: pointer;
            flex: 1;
            transition: background-color 0.3s;
        }
        
        #checkout-btn:hover {
            background-color: #d35400;
        }
        
        #continue-shopping-btn {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 4px;
            cursor: pointer;
            flex: 1;
            transition: background-color 0.3s;
        }
        
        #continue-shopping-btn:hover {
            background-color: #2980b9;
        }
        
        /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 768px) {
            body {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                padding: 10px 0;
            }
            
            .category-filter {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .category-filter button {
                padding: 8px 12px;
                font-size: 12px;
            }
            
            .main-content {
                margin-left: 0;
                padding: 0;
            }
            
            .compact-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
                padding: 15px 20px;
            }
            
            .header-top {
                width: 100%;
                justify-content: space-between;
            }
            
            .site-title {
                font-size: 24px;
                margin-bottom: 10px;
            }
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –∏ —Ñ–æ—Ä–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞) */
        .auth-dropdown.hidden {
            display: none;
        }
        
        .modal.hidden {
            display: none;
        }
        
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 8px;
            max-width: 500px;
            width: 90%;
        }
        
        .close-modal {
            float: right;
            font-size: 24px;
            cursor: pointer;
        }
    </style>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º -->
    <div class="sidebar">
        <h2>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
        <div class="category-filter">
            <button class="active" data-category="all">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</button>
            <button data-category="–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã">–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã</button>
            <button data-category="–í–∏–¥–µ–æ–∫–∞—Ä—Ç—ã">–í–∏–¥–µ–æ–∫–∞—Ä—Ç—ã</button>
            <button data-category="–ú–∞—Ç–µ—Ä–∏–Ω—Å–∫–∏–µ –ø–ª–∞—Ç—ã">–ú–∞—Ç–µ—Ä–∏–Ω—Å–∫–∏–µ –ø–ª–∞—Ç—ã</button>
            <button data-category="–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å">–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å</button>
            <button data-category="–ù–∞–∫–æ–ø–∏—Ç–µ–ª–∏">–ù–∞–∫–æ–ø–∏—Ç–µ–ª–∏</button>
            <button data-category="–ë–ª–æ–∫–∏ –ø–∏—Ç–∞–Ω–∏—è">–ë–ª–æ–∫–∏ –ø–∏—Ç–∞–Ω–∏—è</button>
            <button data-category="–û—Ö–ª–∞–∂–¥–µ–Ω–∏–µ">–û—Ö–ª–∞–∂–¥–µ–Ω–∏–µ</button>
            <button data-category="–ö–æ—Ä–ø—É—Å–∞">–ö–æ—Ä–ø—É—Å–∞</button>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
    <div class="main-content">
        <!-- –•–µ–¥–µ—Ä -->
<header class="compact-header">
  <div class="header-flex">
    <div class="header-left">
      <button id="burger-toggle" class="burger-toggle" aria-label="–ú–µ–Ω—é">‚ò∞</button>
      <h1 class="site-title">BIT & BYTE</h1>
    </div>
<div class="header-right">
  <button class="auth-btn" id="auth-btn">–í–æ–π—Ç–∏</button>

  <div class="auth-dropdown hidden" id="auth-dropdown">
    <div class="auth-popup-content">
      <h2>–í—Ö–æ–¥</h2>
      <form id="login-form">
        <input type="email" placeholder="Email" required>
        <input type="password" placeholder="–ü–∞—Ä–æ–ª—å" required minlength="6">
        <button type="submit">–í–æ–π—Ç–∏</button>
      </form>
      <div class="auth-links">
        <a href="#" id="show-register">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
      </div>
    </div>
  </div>

  <div class="cart-icon-container" id="cart-icon">
    <img src="images/cart-icon.png" alt="Cart">
    <span id="cart-counter">0</span>
  </div>
</div>
</header>
        
<!-- –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é -->
<div id="mobile-menu-overlay" class="mobile-overlay"></div>
<nav id="mobile-category-menu" class="mobile-side-menu">
    <div class="category-filter">
        <button class="active" data-category="all">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</button>
        <button data-category="–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã">–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã</button>
        <button data-category="–í–∏–¥–µ–æ–∫–∞—Ä—Ç—ã">–í–∏–¥–µ–æ–∫–∞—Ä—Ç—ã</button>
        <button data-category="–ú–∞—Ç–µ—Ä–∏–Ω—Å–∫–∏–µ –ø–ª–∞—Ç—ã">–ú–∞—Ç–µ—Ä–∏–Ω—Å–∫–∏–µ –ø–ª–∞—Ç—ã</button>
        <button data-category="–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å">–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å</button>
        <button data-category="–ù–∞–∫–æ–ø–∏—Ç–µ–ª–∏">–ù–∞–∫–æ–ø–∏—Ç–µ–ª–∏</button>
        <button data-category="–ë–ª–æ–∫–∏ –ø–∏—Ç–∞–Ω–∏—è">–ë–ª–æ–∫–∏ –ø–∏—Ç–∞–Ω–∏—è</button>
        <button data-category="–û—Ö–ª–∞–∂–¥–µ–Ω–∏–µ">–û—Ö–ª–∞–∂–¥–µ–Ω–∏–µ</button>
        <button data-category="–ö–æ—Ä–ø—É—Å–∞">–ö–æ—Ä–ø—É—Å–∞</button>
    </div>
</nav>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main>
            <div id="products-container" class="products-container"></div>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="cart-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h2>
            <div id="cart-items"></div>
            <div class="cart-total">
                –ò—Ç–æ–≥–æ: <span id="cart-total-price">0</span> ‚ÇΩ
            </div>
            <div class="cart-actions">
                <button id="checkout-btn">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
                <button id="continue-shopping-btn">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏</button>
            </div>
        </div>
    </div>
    
    <div id="register-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
            <form id="register-form">
                <input type="text" placeholder="–ò–º—è" required>
                <input type="email" placeholder="Email" required>
                <input type="password" placeholder="–ü–∞—Ä–æ–ª—å" required minlength="6">
                <button type="submit">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
            </form>
        </div>
    </div>

    <script src="auth.js"></script>
    <script src="products.js"></script>
    <script src="cart.js"></script>
    <script src="script.js"></script>
    <script>
     document.addEventListener('DOMContentLoaded', function() {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
    const deliveryModal = document.getElementById('delivery-modal');
    if (deliveryModal) {
        deliveryModal.querySelectorAll('input[name="delivery"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const addressContainer = deliveryModal.querySelector('#delivery-address-container');
                addressContainer.classList.toggle('hidden', this.value !== 'delivery');
            });
        });
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
    document.getElementById('checkout-btn').addEventListener('click', function() {
        if (cart.length === 0) {
            alert("–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!");
            return;
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—ã–±—Ä–∞–Ω –ª–∏ —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏
        const deliveryType = document.querySelector('input[name="delivery"]:checked');
        if (!deliveryType) {
            alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è!");
            return;
        }

        // –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏, –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤–≤–µ–¥—ë–Ω –ª–∏ –∞–¥—Ä–µ—Å –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏
        if (deliveryType.value === 'delivery') {
            const deliveryAddress = document.getElementById('delivery-address').value.trim();
            if (!deliveryAddress) {
                alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏!");
                return;
            }
        }

        // –û—Ñ–æ—Ä–º–ª—è–µ–º –∑–∞–∫–∞–∑
        const cartTotal = parseInt(document.getElementById('cart-total-price').textContent) || 0;
        const totalWithDelivery = cartTotal + (deliveryType.value === 'delivery' ? 500 : 0);

        const currentUser = JSON.parse(localStorage.getItem('currentUser'));
        if (!currentUser) {
            alert('–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.');
            return;
        }

        const newOrder = {
            id: Date.now(),
            date: new Date().toISOString(),
            total: totalWithDelivery,
            deliveryType: deliveryType.value,
            deliveryAddress: deliveryType.value === 'delivery' ? deliveryAddress : '',
            deliveryCost: deliveryType.value === 'delivery' ? 500 : 0,
            status: deliveryType.value === 'pickup' ? '–ì–æ—Ç–æ–≤ –∫ –≤—ã–¥–∞—á–µ' : '–í –æ–±—Ä–∞–±–æ—Ç–∫–µ',
            items: cart
        };

        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞–∫–∞–∑ –≤ –∏—Å—Ç–æ—Ä–∏–∏
        currentUser.orders = currentUser.orders || [];
        currentUser.orders.unshift(newOrder);
        localStorage.setItem('currentUser', JSON.stringify(currentUser));

        // –û—á–∏—Å—Ç–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
        localStorage.removeItem('cart');
        document.getElementById('cart-counter').textContent = '0';
        updateCart();  // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ—Ä–∑–∏–Ω—É

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –∑–∞–∫–∞–∑–µ
        alert(`–ó–∞–∫–∞–∑ #${newOrder.id} —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω!`);
        deliveryModal.style.display = 'none';
        document.body.removeChild(deliveryModal);
        document.getElementById('cart-modal').classList.add('hidden');
    });

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    const closeModalButtons = document.querySelectorAll('.close-modal');
    closeModalButtons.forEach(button => {
        button.addEventListener('click', function() {
            deliveryModal.style.display = 'none';
            document.body.removeChild(deliveryModal);
        });
    });
});
    </script>
</body>
</html>
